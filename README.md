# Playwright - The Agentic Way

This demo showcases how to use Playwright's three AI agents (ðŸŽ­ planner, ðŸŽ­ generator, ðŸŽ­ healer) to build comprehensive test coverage for a given application.

This repository (master) contains the playwright output given by planner and generator, there's also a (seed) branch if you want to try out test generation under the same conditions.

I would, however, recommend using this just as reference and set up your own project using these steps:

## Independent Setup
## Essentialy, if you want to create your own project, this is how it was set up initially:

```bash
# Install Playwright
npm init playwright@latest

# Initialize agents (choose your AI tool)
npx playwright init-agents --loop=claude
# or
npx playwright init-agents --loop=vscode
```

---

## Step 1: Create the Seed Test

First, create a seed test that handles any kind of authentication for your page:

**File: `tests/seed.spec.ts`**

---

## Step 2: Prompt the Planner Agent

**Prompt to ðŸŽ­ planner:**

```
Using tests/seed.spec.ts as the starting point, generate a comprehensive 
test plan for the SauceDemo shopping application. Cover these scenarios:

1. Product browsing and sorting (A-Z, Z-A, price low-to-high, high-to-low)
2. Adding items to cart
3. Cart management (viewing, updating quantities, removing items)
4. Complete checkout flow with valid information
5. Checkout validation (missing required fields)
6. Logout functionality

Save the plan to specs/saucedemo-shopping.md
```

**What the planner does:**
- Runs the seed test to get authenticated
- Explores the inventory page, cart, and checkout flow
- Documents all UI elements, interactions, and expected behaviors
- Creates structured scenarios with precise steps

---

## Step 3: Generated Test Plan Example

**File: `specs/saucedemo-shopping.md`** (auto-generated by planner)

---

## Step 4: Prompt the Generator Agent

**Prompt to ðŸŽ­ generator:**

```
Generate Playwright tests from specs/saucedemo-shopping.md
Save them in tests/saucedemo/
```

---

## Step 5: Run Tests & Use Healer

```bash
# Run all SauceDemo tests
npx playwright test tests/saucedemo/

# Run in headed mode to watch
npx playwright test tests/saucedemo/ --headed
```

**If a test fails, prompt the healer:**

```
Fix the failing test: tests/saucedemo/*.spec.ts
```

**What the healer does:**
1. Runs the failing test and captures the error
2. Takes screenshots of the failure point
3. Inspects the current DOM to find the correct selectors
4. Updates the test with fixed locators or timing
5. Re-runs until it passes or determines it's a real bug